---
layout: post
title: "기술교육 6-7주차 후기"
subtitle: "리팩토링 및 서버 늘리기"
date: 2021-03-09
background: '/img/bg-post.jpg'
comments: true
---

## 리팩토링

  개발이 끝나고 리팩토링에 대한 교육을 받은 후, 코드 리팩토링을 진행했습니다. 교육을 받으면서 보니 제가 작성한 코드에 고칠 점이 많다는 것을 알 수 있었습니다. 특히 컨트롤러 부분이 가장 문제였는데, 서비스 부분에서 구현되어야 할 많은 기능들이 컨트롤러 부분에 작성되어 있었으며 이는 코드 리뷰 과정에서도 지적을 받았습니다. 처음에는 고칠 부분이 많아서 엄두가 나지 않기도 했고 코드를 바꾸는 과정에서 버그가 발생할 것을 우려하기도 했습니다. 하지만 리팩토링 과정을 거치고 나니 확실히 코드가 깔끔해진 것을 확인할 수 있었고 처음보다는 각각의 기능들이 어느 정도 구분이 된 것을 보니 이러한 과정이 코드의 확장성 및 유연성에 매우 도움이 된다라는 것을 알 수 있었습니다. 다만 백엔드의 코드에만 집중하다 보니 자바스크립트와 같은 프론트엔드의 코드에는 리팩토링 과정을 거의 거치지 않았기에 이 부분은 아직도 가독성이 떨어지며 난잡하기에 이는 앞으로 해결해야할 것 같습니다.

## 테스트 케이스 작성

  6주차에는 리팩토링 뿐만 아니라 TDD(Test-driven Development)에 대해서도 교육을 받았고 테스트 코드를 짜보는 시간도 가졌습니다. TDD에 대해서는 과거에 들어본 적이 있긴 하지만 제대로 알고 있는 것은 아니었고 개발 중에 작성한 테스트 코드도 로그를 이용해서 제가 직접 확인하는 식으로 테스트를 하는 방식이었기에 교육을 통하여 많은 것을 배울 수 있었습니다. 특히 WebMvcTest를 이용하여 컨트롤러를 테스트하는 것과 Mock을 이용하여 테스트를 하는 것은 처음 들어보았기에 신선한 충격이었습니다. 이렇게 배운 지식을 바탕으로 테스트 코드를 작성해야 했지만 대부분의 시간을 리팩토링과 버그 수정에 쏟으면서 테스트 케이스 작성은 많은 진도가 나가진 않았습니다. 하지만 앞으로도 유용하게 쓰일 것이라고 생각하기에 앞으로도 틈틈히 테스트 코드를 작성해보고자 합니다.

## 서버 늘리기

  7주차에서는 서버를 여러 대로 늘리는 것에 대해서 배웠습니다. 서버를 왜 늘려야 하는지, 서버를 늘렸을 때 어떤 점을 고려해야 하는지 등에 대해서 먼저 TF끼리 논의를 진행했고 그 다음 이에 대한 교육을 들었습니다. 서버를 늘리는 이유는 트래픽을 분산시키기도 하고 또한 한 서버가 갑작스럽게 다운되더라도 예비 서버가 존재하기에 안정성이 확보할 수 있기 때문입니다. 다만 서버를 늘리면 동시에 고려해야할 부분들이 있는데 이 부분들이 과제로 올라와서 저희가 해결해야 했습니다. 먼저 세션 관련 문제입니다. 서버가 두 대이다 보니 세션을 공유해야하는 문제가 발생하는데 이는 Redis 혹은 DB에 저장을 함으로써 해결할 수 있습니다. 다음은 스토리지에 관한 문제였습니다. 이미지 등을 한 서버에서만 저장을 할 수는 없고 모든 서버에 저장하는 것도 효율이 떨어지기에 모든 서버가 공유하는 스토리지가 필요합니다. 이를 위해 NHN Cloud의 스토리지를 사용하게 되었습니다. 제가 이 부분을 맡아서 진행했는데 사용 방법이 잘 설명되어 있어 큰 문제 없이 진행할 수 있었습니다.

  이러한 과정을 거치면서 단순히 취미로 개발을 하는 것이 아니라 실제 서비스를 개발하는 느낌을 받을 수 있었습니다. 아직 부족한 부분은 많겠지만 막 입사를 했던 시기와는 지식 및 기술 등의 측면에서 많은 진전이 있는 것을 느낄 수 있었습니다. 처음에는 현업에 들어가서 잘 할 수 있을지 걱정이 많이 되었다면 지금은 그래도 어느 정도 자신감이 붙었고 실무에 들어가는 것이 기대도 됩니다. 앞으로의 교육에서도 많은 것을 배워나가고자 하며 앞으로도 점점 성장해 나가는 프로그래머가 되고 싶습니다. 

